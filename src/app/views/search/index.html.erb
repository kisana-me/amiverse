<% provide(:layout_type, 'header_text') %>
<% provide(:title, '検索') %>
<% provide(:header_text, '検索') %>

<h2>検索</h2>
<%= form_with url: search_path, method: :get do |f| %>
  <%= f.label :query, "検索" %>
  <%= f.search_field :query, value: params[:query] %>
  <%= f.button "検索", name: nil, type: :submit %>
<% end %>

<div id="items">
  <% if @items.blank? %>
    <p>検索結果がありません。</p>
  <% else %>
    <%= render partial: 'items/item',
      collection: @items,
      as: :item
    %>
    <%= render 'shared/paging', page: @page, pages: @pages, page_to: "search", more_params: "query=#{params[:query]}" %>
  <% end %>
</div>